import{r as _,m as c,i as n,o as i,b as e,j as r,t as o,l as h,h as u,a as g,F as y,u as m,q as P,f as b,P as f,n as j}from"./app-wF5SolYh.js";import{_ as B}from"./AppLayout-DCUwBhsa.js";import{_ as v}from"./Button-COWAl97y.js";import{_ as w}from"./Badge-D0Q5MHX0.js";/* empty css            */import"./useToast-BYzZ-uBf.js";import"./XMarkIcon-BhqYf4eJ.js";const E={class:"flex items-center justify-between"},N={class:"flex items-center space-x-4"},S={class:"py-12"},$={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},A={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},V={class:"p-6 bg-white border-b border-gray-200"},G={class:"overflow-x-auto"},D={class:"min-w-full divide-y divide-gray-200"},F={class:"bg-gray-50"},L={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},M=["checked","indeterminate"],O={class:"bg-white divide-y divide-gray-200"},R={class:"px-6 py-4 whitespace-nowrap"},T=["checked","onChange"],q={class:"px-6 py-4 whitespace-nowrap"},H={class:"flex items-center"},I={class:"flex-shrink-0 h-10 w-10"},U=["src","alt"],J={class:"ml-4"},K={class:"text-sm font-medium text-gray-900"},Q={class:"text-sm text-gray-500"},W={class:"px-6 py-4 whitespace-nowrap"},X={class:"px-6 py-4 whitespace-nowrap"},Y={class:"px-6 py-4 whitespace-nowrap"},Z={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2"},ee=["onClick"],te={class:"mt-4"},se={class:"flex items-center justify-between"},ae={class:"flex-1 flex justify-between sm:hidden"},re={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},le={class:"text-sm text-gray-700"},ne={class:"font-medium"},ie={class:"font-medium"},oe={class:"font-medium"},de={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},pe={__name:"Index",props:{channels:Object,filters:Object},setup(a){const p=_(!1),l=_([]),k=x=>{const t=l.value.indexOf(x);t===-1?l.value.push(x):l.value.splice(t,1)},C=()=>{confirm(`Are you sure you want to delete ${l.value.length} channels?`)&&router.delete(route("channels.destroy",{ids:l.value}),{onSuccess:()=>{l.value=[]}})},z=async()=>{p.value=!0;try{const x=await axios.post(route("channels.refresh-epg"));toast.success("EPG data refreshed successfully")}catch{toast.error("Failed to refresh EPG data")}finally{p.value=!1}};return(x,t)=>(i(),c(B,null,{header:n(()=>[e("div",E,[t[4]||(t[4]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Channels ",-1)),e("div",N,[l.value.length>0?(i(),c(v,{key:0,variant:"danger",size:"sm",onClick:C},{default:n(()=>[r(" Delete Selected ("+o(l.value.length)+") ",1)]),_:1})):h("",!0),u(v,{variant:"secondary",size:"sm",disabled:p.value,onClick:z},{default:n(()=>[p.value?(i(),g(y,{key:0},[t[1]||(t[1]=e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),t[2]||(t[2]=r(" Refreshing EPG... "))],64)):(i(),g(y,{key:1},[r(" Refresh EPG ")],64))]),_:1},8,["disabled"]),u(v,{href:"/channels/create",size:"sm"},{default:n(()=>t[3]||(t[3]=[r(" Add Channel ")])),_:1})])])]),default:n(()=>[u(m(P),{title:"Channels"}),e("div",S,[e("div",$,[e("div",A,[e("div",V,[e("div",G,[e("table",D,[e("thead",F,[e("tr",null,[e("th",L,[e("input",{type:"checkbox",checked:l.value.length===a.channels.data.length,indeterminate:l.value.length>0&&l.value.length<a.channels.data.length,onChange:t[0]||(t[0]=s=>s.target.checked?l.value=a.channels.data.map(d=>d.id):l.value=[]),class:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"},null,40,M)]),t[5]||(t[5]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name ",-1)),t[6]||(t[6]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Category ",-1)),t[7]||(t[7]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Stream Type ",-1)),t[8]||(t[8]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status ",-1)),t[9]||(t[9]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ",-1))])]),e("tbody",O,[(i(!0),g(y,null,b(a.channels.data,s=>(i(),g("tr",{key:s.id},[e("td",R,[e("input",{type:"checkbox",checked:l.value.includes(s.id),onChange:d=>k(s.id),class:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"},null,40,T)]),e("td",q,[e("div",H,[e("div",I,[e("img",{class:"h-10 w-10 rounded-full",src:s.logo||"/default-channel.png",alt:s.name},null,8,U)]),e("div",J,[e("div",K,o(s.name),1),e("div",Q,o(s.stream_url),1)])])]),e("td",W,[u(w,null,{default:n(()=>{var d;return[r(o(((d=s.category)==null?void 0:d.name)||"Uncategorized"),1)]}),_:2},1024)]),e("td",X,[u(w,{variant:"info"},{default:n(()=>[r(o(s.stream_type),1)]),_:2},1024)]),e("td",Y,[u(w,{variant:s.is_active?"success":"danger"},{default:n(()=>[r(o(s.is_active?"Active":"Inactive"),1)]),_:2},1032,["variant"])]),e("td",Z,[u(m(f),{href:`/channels/${s.id}/edit`,class:"text-primary-600 hover:text-primary-900"},{default:n(()=>t[10]||(t[10]=[r(" Edit ")])),_:2},1032,["href"]),e("button",{onClick:()=>x.router.delete(`/channels/${s.id}`),class:"text-red-600 hover:text-red-900"}," Delete ",8,ee)])]))),128))])])]),e("div",te,[e("div",se,[e("div",ae,[a.channels.prev_page_url?(i(),c(m(f),{key:0,href:a.channels.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:n(()=>t[11]||(t[11]=[r(" Previous ")])),_:1},8,["href"])):h("",!0),a.channels.next_page_url?(i(),c(m(f),{key:1,href:a.channels.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:n(()=>t[12]||(t[12]=[r(" Next ")])),_:1},8,["href"])):h("",!0)]),e("div",re,[e("div",null,[e("p",le,[t[13]||(t[13]=r(" Showing ")),e("span",ne,o(a.channels.from),1),t[14]||(t[14]=r(" to ")),e("span",ie,o(a.channels.to),1),t[15]||(t[15]=r(" of ")),e("span",oe,o(a.channels.total),1),t[16]||(t[16]=r(" results "))])]),e("div",null,[e("nav",de,[a.channels.prev_page_url?(i(),c(m(f),{key:0,href:a.channels.prev_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},{default:n(()=>t[17]||(t[17]=[e("span",{class:"sr-only"},"Previous",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])),_:1},8,["href"])):h("",!0),(i(!0),g(y,null,b(a.channels.links.slice(1,-1),(s,d)=>(i(),c(m(f),{key:d,href:s.url,class:j([s.active?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center px-4 py-2 border text-sm font-medium"])},{default:n(()=>[r(o(s.label),1)]),_:2},1032,["href","class"]))),128)),a.channels.next_page_url?(i(),c(m(f),{key:1,href:a.channels.next_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},{default:n(()=>t[18]||(t[18]=[e("span",{class:"sr-only"},"Next",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])),_:1},8,["href"])):h("",!0)])])])])])])])])])]),_:1}))}};export{pe as default};
