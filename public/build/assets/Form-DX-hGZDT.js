import{C as D,r as x,m as L,i as v,o as g,b as l,t as m,h as o,u as t,q as N,k as j,d as A,s as B,j as V,a as c,f as U,F as k}from"./app-wF5SolYh.js";import{_ as $}from"./AppLayout-DCUwBhsa.js";import{_}from"./Button-COWAl97y.js";import{_ as a}from"./Input-CrzDra5-.js";import{_ as F}from"./Select-CHGPKsuq.js";import{_ as M}from"./DatePicker-Bd7KEKMG.js";/* empty css            */import"./useToast-BYzZ-uBf.js";import"./XMarkIcon-BhqYf4eJ.js";import"./format-hgLsWgxO.js";import"./portal-CSVhat62.js";import"./hidden-BqmzDmTH.js";const z={class:"font-semibold text-xl text-gray-800 leading-tight"},K={class:"py-12"},P={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},T={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},q={class:"grid grid-cols-1 gap-6"},G={class:"space-y-6"},O={class:"flex items-center"},H={class:"space-y-6"},J={class:"space-y-6"},Q={class:"space-y-6"},W={class:"space-y-4"},X={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Y={class:"flex justify-end"},Z={class:"space-y-6"},I={class:"flex items-center justify-between mb-4"},h={class:"text-lg font-medium"},ee=["onClick"],le={class:"space-y-4 mb-4"},se={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},te={class:"flex justify-end"},re={class:"space-y-2"},oe={class:"font-medium"},ae={class:"text-gray-500 ml-2"},de=["onClick"],ie={class:"flex items-center justify-end space-x-3"},xe={__name:"Form",props:{series:{type:Object,default:()=>({name:"",logo:"",category_id:null,stream_type:"series",is_active:!0,description:"",release_date:null,director:"",cast:"",genre:"",rating:"",poster:"",backdrop:"",trailer_url:"",seasons:[]})},categories:Array},setup(b){const d=b,s=D({name:d.series.name,logo:d.series.logo,category_id:d.series.category_id,stream_type:d.series.stream_type,is_active:d.series.is_active,description:d.series.description,release_date:d.series.release_date,director:d.series.director,cast:d.series.cast,genre:d.series.genre,rating:d.series.rating,poster:d.series.poster,backdrop:d.series.backdrop,trailer_url:d.series.trailer_url,seasons:d.series.seasons||[]}),n=x({name:"",season_number:"",description:"",poster:"",episodes:[]}),i=x({name:"",episode_number:"",stream_url:"",description:"",duration:"",air_date:"",poster:"",subtitles:[],audio_tracks:[]}),S=()=>{n.value.name&&n.value.season_number&&(s.seasons.push({...n.value,episodes:[]}),n.value={name:"",season_number:"",description:"",poster:"",episodes:[]})},C=p=>{s.seasons.splice(p,1)},w=p=>{i.value.name&&i.value.episode_number&&i.value.stream_url&&(s.seasons[p].episodes.push({...i.value}),i.value={name:"",episode_number:"",stream_url:"",description:"",duration:"",air_date:"",poster:"",subtitles:[],audio_tracks:[]})},E=(p,e)=>{s.seasons[p].episodes.splice(e,1)},R=()=>{d.series.id?s.put(route("series.update",d.series.id)):s.post(route("series.store"))};return(p,e)=>(g(),L($,null,{header:v(()=>[l("h2",z,m(b.series.id?"Edit Series":"Add Series"),1)]),default:v(()=>[o(t(N),{title:b.series.id?"Edit Series":"Add Series"},null,8,["title"]),l("div",K,[l("div",P,[l("div",T,[l("form",{onSubmit:j(R,["prevent"]),class:"p-6 bg-white border-b border-gray-200"},[l("div",q,[l("div",G,[e[22]||(e[22]=l("h3",{class:"text-lg font-medium text-gray-900"},"Basic Information",-1)),l("div",null,[o(a,{modelValue:t(s).name,"onUpdate:modelValue":e[0]||(e[0]=r=>t(s).name=r),type:"text",label:"Name",error:t(s).errors.name},null,8,["modelValue","error"])]),l("div",null,[o(a,{modelValue:t(s).logo,"onUpdate:modelValue":e[1]||(e[1]=r=>t(s).logo=r),type:"text",label:"Logo URL",error:t(s).errors.logo},null,8,["modelValue","error"])]),l("div",null,[o(F,{modelValue:t(s).category_id,"onUpdate:modelValue":e[2]||(e[2]=r=>t(s).category_id=r),options:b.categories,label:"Category",error:t(s).errors.category_id,valueKey:"id",labelKey:"name"},null,8,["modelValue","options","error"])]),l("div",O,[A(l("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=r=>t(s).is_active=r),class:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"},null,512),[[B,t(s).is_active]]),e[21]||(e[21]=l("label",{class:"ml-2 block text-sm text-gray-900"}," Active ",-1))])]),l("div",H,[e[23]||(e[23]=l("h3",{class:"text-lg font-medium text-gray-900"},"Series Details",-1)),l("div",null,[o(a,{modelValue:t(s).description,"onUpdate:modelValue":e[4]||(e[4]=r=>t(s).description=r),type:"textarea",label:"Description",error:t(s).errors.description},null,8,["modelValue","error"])]),l("div",null,[o(M,{modelValue:t(s).release_date,"onUpdate:modelValue":e[5]||(e[5]=r=>t(s).release_date=r),label:"Release Date",error:t(s).errors.release_date},null,8,["modelValue","error"])]),l("div",null,[o(a,{modelValue:t(s).director,"onUpdate:modelValue":e[6]||(e[6]=r=>t(s).director=r),type:"text",label:"Director",error:t(s).errors.director},null,8,["modelValue","error"])]),l("div",null,[o(a,{modelValue:t(s).cast,"onUpdate:modelValue":e[7]||(e[7]=r=>t(s).cast=r),type:"text",label:"Cast",error:t(s).errors.cast},null,8,["modelValue","error"])]),l("div",null,[o(a,{modelValue:t(s).genre,"onUpdate:modelValue":e[8]||(e[8]=r=>t(s).genre=r),type:"text",label:"Genre",error:t(s).errors.genre},null,8,["modelValue","error"])]),l("div",null,[o(a,{modelValue:t(s).rating,"onUpdate:modelValue":e[9]||(e[9]=r=>t(s).rating=r),type:"text",label:"Rating",error:t(s).errors.rating},null,8,["modelValue","error"])])]),l("div",J,[e[24]||(e[24]=l("h3",{class:"text-lg font-medium text-gray-900"},"Media",-1)),l("div",null,[o(a,{modelValue:t(s).poster,"onUpdate:modelValue":e[10]||(e[10]=r=>t(s).poster=r),type:"text",label:"Poster URL",error:t(s).errors.poster},null,8,["modelValue","error"])]),l("div",null,[o(a,{modelValue:t(s).backdrop,"onUpdate:modelValue":e[11]||(e[11]=r=>t(s).backdrop=r),type:"text",label:"Backdrop URL",error:t(s).errors.backdrop},null,8,["modelValue","error"])]),l("div",null,[o(a,{modelValue:t(s).trailer_url,"onUpdate:modelValue":e[12]||(e[12]=r=>t(s).trailer_url=r),type:"text",label:"Trailer URL",error:t(s).errors.trailer_url},null,8,["modelValue","error"])])]),l("div",Q,[e[27]||(e[27]=l("h3",{class:"text-lg font-medium text-gray-900"},"Seasons",-1)),l("div",W,[l("div",X,[l("div",null,[o(a,{modelValue:n.value.name,"onUpdate:modelValue":e[13]||(e[13]=r=>n.value.name=r),type:"text",label:"Season Name"},null,8,["modelValue"])]),l("div",null,[o(a,{modelValue:n.value.season_number,"onUpdate:modelValue":e[14]||(e[14]=r=>n.value.season_number=r),type:"number",label:"Season Number"},null,8,["modelValue"])]),l("div",null,[o(a,{modelValue:n.value.description,"onUpdate:modelValue":e[15]||(e[15]=r=>n.value.description=r),type:"textarea",label:"Description"},null,8,["modelValue"])]),l("div",null,[o(a,{modelValue:n.value.poster,"onUpdate:modelValue":e[16]||(e[16]=r=>n.value.poster=r),type:"text",label:"Poster URL"},null,8,["modelValue"])])]),l("div",Y,[o(_,{type:"button",onClick:S,size:"sm"},{default:v(()=>e[25]||(e[25]=[V(" Add Season ")])),_:1})])]),l("div",Z,[(g(!0),c(k,null,U(t(s).seasons,(r,y)=>(g(),c("div",{key:y,class:"border rounded-lg p-4"},[l("div",I,[l("h4",h," Season "+m(r.season_number)+": "+m(r.name),1),l("button",{type:"button",class:"text-red-600 hover:text-red-900",onClick:u=>C(y)}," Remove Season ",8,ee)]),l("div",le,[l("div",se,[l("div",null,[o(a,{modelValue:i.value.name,"onUpdate:modelValue":e[17]||(e[17]=u=>i.value.name=u),type:"text",label:"Episode Name"},null,8,["modelValue"])]),l("div",null,[o(a,{modelValue:i.value.episode_number,"onUpdate:modelValue":e[18]||(e[18]=u=>i.value.episode_number=u),type:"number",label:"Episode Number"},null,8,["modelValue"])]),l("div",null,[o(a,{modelValue:i.value.stream_url,"onUpdate:modelValue":e[19]||(e[19]=u=>i.value.stream_url=u),type:"text",label:"Stream URL"},null,8,["modelValue"])]),l("div",null,[o(a,{modelValue:i.value.duration,"onUpdate:modelValue":e[20]||(e[20]=u=>i.value.duration=u),type:"text",label:"Duration"},null,8,["modelValue"])])]),l("div",te,[o(_,{type:"button",onClick:()=>w(y),size:"sm"},{default:v(()=>e[26]||(e[26]=[V(" Add Episode ")])),_:2},1032,["onClick"])])]),l("div",re,[(g(!0),c(k,null,U(r.episodes,(u,f)=>(g(),c("div",{key:f,class:"flex items-center justify-between p-2 bg-gray-50 rounded"},[l("div",null,[l("span",oe,"Episode "+m(u.episode_number)+": "+m(u.name),1),l("span",ae,m(u.duration),1)]),l("button",{type:"button",class:"text-red-600 hover:text-red-900",onClick:()=>E(y,f)}," Remove ",8,de)]))),128))])]))),128))])]),l("div",ie,[o(_,{href:"/series",variant:"secondary",disabled:t(s).processing},{default:v(()=>e[28]||(e[28]=[V(" Cancel ")])),_:1},8,["disabled"]),o(_,{type:"submit",disabled:t(s).processing},{default:v(()=>[V(m(b.series.id?"Update":"Create"),1)]),_:1},8,["disabled"])])])],32)])])])]),_:1}))}};export{xe as default};
