import{r as k,m,i as l,o as r,b as e,h,a as d,j as o,F as c,u as n,q as P,f as w,P as g,l as y,t as i,n as C}from"./app-wF5SolYh.js";import{_ as N}from"./AppLayout-DCUwBhsa.js";import{_ as z}from"./Button-COWAl97y.js";import{_ as E}from"./Badge-D0Q5MHX0.js";/* empty css            */import"./useToast-BYzZ-uBf.js";import"./XMarkIcon-BhqYf4eJ.js";const j={class:"flex items-center justify-between"},B={class:"flex items-center space-x-4"},G={class:"py-12"},V={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},S={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},L={class:"p-6 bg-white border-b border-gray-200"},$={class:"overflow-x-auto"},D={class:"min-w-full divide-y divide-gray-200"},F={class:"bg-white divide-y divide-gray-200"},M={class:"px-6 py-4 whitespace-nowrap"},T={class:"flex items-center"},A={class:"flex-shrink-0 h-10 w-10"},I=["src","alt"],O={class:"ml-4"},R={class:"text-sm font-medium text-gray-900"},U={class:"text-sm text-gray-500"},q={class:"px-6 py-4 whitespace-nowrap"},H={class:"px-6 py-4 whitespace-nowrap"},J={class:"text-sm font-medium text-gray-900"},K={class:"text-sm text-gray-500"},Q={key:1,class:"text-sm text-gray-500"},W={class:"px-6 py-4 whitespace-nowrap"},X={class:"text-sm font-medium text-gray-900"},Y={class:"text-sm text-gray-500"},Z={key:1,class:"text-sm text-gray-500"},ee={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},te={class:"mt-4"},se={class:"flex items-center justify-between"},re={class:"flex-1 flex justify-between sm:hidden"},ae={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},ie={class:"text-sm text-gray-700"},oe={class:"font-medium"},le={class:"font-medium"},de={class:"font-medium"},ne={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},he={__name:"Index",props:{channels:Object,filters:Object},setup(a){const x=k(!1),b=async()=>{x.value=!0;try{const u=await axios.post(route("epg.refresh"));toast.success("EPG data refreshed successfully")}catch{toast.error("Failed to refresh EPG data")}finally{x.value=!1}},p=u=>new Date(u).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return(u,t)=>(r(),m(N,null,{header:l(()=>[e("div",j,[t[2]||(t[2]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," EPG ",-1)),e("div",B,[h(z,{variant:"secondary",size:"sm",disabled:x.value,onClick:b},{default:l(()=>[x.value?(r(),d(c,{key:0},[t[0]||(t[0]=e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),t[1]||(t[1]=o(" Refreshing EPG... "))],64)):(r(),d(c,{key:1},[o(" Refresh EPG ")],64))]),_:1},8,["disabled"])])])]),default:l(()=>[h(n(P),{title:"EPG"}),e("div",G,[e("div",V,[e("div",S,[e("div",L,[e("div",$,[e("table",D,[t[4]||(t[4]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Channel "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Category "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Current Program "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Next Program "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",F,[(r(!0),d(c,null,w(a.channels.data,s=>{var f,_;return r(),d("tr",{key:s.id},[e("td",M,[e("div",T,[e("div",A,[e("img",{class:"h-10 w-10 rounded-full",src:s.logo||"/default-channel.png",alt:s.name},null,8,I)]),e("div",O,[e("div",R,i(s.name),1),e("div",U,i(s.epg_channel_id||"No EPG ID"),1)])])]),e("td",q,[h(E,null,{default:l(()=>{var v;return[o(i(((v=s.category)==null?void 0:v.name)||"Uncategorized"),1)]}),_:2},1024)]),e("td",H,[(f=s.epg_programs)!=null&&f.length?(r(),d(c,{key:0},[e("div",J,i(s.epg_programs[0].title),1),e("div",K,i(p(s.epg_programs[0].start_time))+" - "+i(p(s.epg_programs[0].end_time)),1)],64)):(r(),d("div",Q," No program data "))]),e("td",W,[((_=s.epg_programs)==null?void 0:_.length)>1?(r(),d(c,{key:0},[e("div",X,i(s.epg_programs[1].title),1),e("div",Y,i(p(s.epg_programs[1].start_time))+" - "+i(p(s.epg_programs[1].end_time)),1)],64)):(r(),d("div",Z," No program data "))]),e("td",ee,[h(n(g),{href:`/epg/${s.id}`,class:"text-primary-600 hover:text-primary-900"},{default:l(()=>t[3]||(t[3]=[o(" View Schedule ")])),_:2},1032,["href"])])])}),128))])])]),e("div",te,[e("div",se,[e("div",re,[a.channels.prev_page_url?(r(),m(n(g),{key:0,href:a.channels.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:l(()=>t[5]||(t[5]=[o(" Previous ")])),_:1},8,["href"])):y("",!0),a.channels.next_page_url?(r(),m(n(g),{key:1,href:a.channels.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:l(()=>t[6]||(t[6]=[o(" Next ")])),_:1},8,["href"])):y("",!0)]),e("div",ae,[e("div",null,[e("p",ie,[t[7]||(t[7]=o(" Showing ")),e("span",oe,i(a.channels.from),1),t[8]||(t[8]=o(" to ")),e("span",le,i(a.channels.to),1),t[9]||(t[9]=o(" of ")),e("span",de,i(a.channels.total),1),t[10]||(t[10]=o(" results "))])]),e("div",null,[e("nav",ne,[a.channels.prev_page_url?(r(),m(n(g),{key:0,href:a.channels.prev_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},{default:l(()=>t[11]||(t[11]=[e("span",{class:"sr-only"},"Previous",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])),_:1},8,["href"])):y("",!0),(r(!0),d(c,null,w(a.channels.links.slice(1,-1),(s,f)=>(r(),m(n(g),{key:f,href:s.url,class:C([s.active?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center px-4 py-2 border text-sm font-medium"])},{default:l(()=>[o(i(s.label),1)]),_:2},1032,["href","class"]))),128)),a.channels.next_page_url?(r(),m(n(g),{key:1,href:a.channels.next_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},{default:l(()=>t[12]||(t[12]=[e("span",{class:"sr-only"},"Next",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])),_:1},8,["href"])):y("",!0)])])])])])])])])])]),_:1}))}};export{he as default};
