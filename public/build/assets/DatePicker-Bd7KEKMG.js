import{t as Z,c as U,n as ee,s as se,d as Me,j as De,e as Ee,i as R}from"./format-hgLsWgxO.js";import{q as Fe,N as $e,E as Ce,n as me,d as _}from"./portal-CSVhat62.js";import{i as te,o,j as le,u as L,e as Oe,b as Y,w as _e,k as Ie,m as Be,A as ne,a as G,P as j,N as I,l as Ne,c as ie,d as T,T as J}from"./XMarkIcon-BhqYf4eJ.js";import{s as Te}from"./AppLayout-DCUwBhsa.js";import{f as Q,u as X}from"./hidden-BqmzDmTH.js";import{D as ae,r as M,B as D,J as ge,H as oe,G as B,F as H,z as be,E as he,K as re,o as $,a as C,b as S,w as ce,t as A,l as de,h as W,i as q,u as F,f as ve,n as je}from"./app-wF5SolYh.js";var Ve=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(Ve||{});let ye=Symbol("PopoverContext");function ue(a){let r=re(ye,null);if(r===null){let n=new Error(`<${a} /> is missing a parent <${Se.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ue),n}return r}let Ae=Symbol("PopoverGroupContext");function we(){return re(Ae,null)}let Pe=Symbol("PopoverPanelContext");function Le(){return re(Pe,null)}let Se=ae({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(a,{slots:r,attrs:n,expose:v}){var u;let d=M(null);v({el:d,$el:d});let e=M(1),t=M(null),h=M(null),P=M(null),y=M(null),w=D(()=>te(d)),k=D(()=>{var l,i;if(!o(t)||!o(y))return!1;for(let K of document.querySelectorAll("body > *"))if(Number(K==null?void 0:K.contains(o(t)))^Number(K==null?void 0:K.contains(o(y))))return!0;let s=le(),b=s.indexOf(o(t)),E=(b+s.length-1)%s.length,O=(b+1)%s.length,z=s[E],ke=s[O];return!((l=o(y))!=null&&l.contains(z))&&!((i=o(y))!=null&&i.contains(ke))}),c={popoverState:e,buttonId:M(null),panelId:M(null),panel:y,button:t,isPortalled:k,beforePanelSentinel:h,afterPanelSentinel:P,togglePopover(){e.value=L(e.value,{0:1,1:0})},closePopover(){e.value!==1&&(e.value=1)},close(l){c.closePopover();let i=l?l instanceof HTMLElement?l:l.value instanceof HTMLElement?o(l):o(c.button):o(c.button);i==null||i.focus()}};ge(ye,c),Oe(D(()=>L(e.value,{0:Y.Open,1:Y.Closed})));let x={buttonId:c.buttonId,panelId:c.panelId,close(){c.closePopover()}},p=we(),N=p==null?void 0:p.registerPopover,[V,m]=Fe(),g=$e({mainTreeNodeRef:p==null?void 0:p.mainTreeNodeRef,portals:V,defaultContainers:[t,y]});function f(){var l,i,s,b;return(b=p==null?void 0:p.isFocusWithinPopoverGroup())!=null?b:((l=w.value)==null?void 0:l.activeElement)&&(((i=o(t))==null?void 0:i.contains(w.value.activeElement))||((s=o(y))==null?void 0:s.contains(w.value.activeElement)))}return oe(()=>N==null?void 0:N(x)),Ce((u=w.value)==null?void 0:u.defaultView,"focus",l=>{var i,s;l.target!==window&&l.target instanceof HTMLElement&&e.value===0&&(f()||t&&y&&(g.contains(l.target)||(i=o(c.beforePanelSentinel))!=null&&i.contains(l.target)||(s=o(c.afterPanelSentinel))!=null&&s.contains(l.target)||c.closePopover()))},!0),_e(g.resolveContainers,(l,i)=>{var s;c.closePopover(),Ie(i,Be.Loose)||(l.preventDefault(),(s=o(t))==null||s.focus())},D(()=>e.value===0)),()=>{let l={open:e.value===0,close:c.close};return B(H,[B(m,{},()=>ne({theirProps:{...a,...n},ourProps:{ref:d},slot:l,slots:r,attrs:n,name:"Popover"})),B(g.MainTreeNode)])}}}),Ge=ae({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(a,{attrs:r,slots:n,expose:v}){var u;let d=(u=a.id)!=null?u:`headlessui-popover-button-${G()}`,e=ue("PopoverButton"),t=D(()=>te(e.button));v({el:e.button,$el:e.button}),be(()=>{e.buttonId.value=d}),he(()=>{e.buttonId.value=null});let h=we(),P=h==null?void 0:h.closeOthers,y=Le(),w=D(()=>y===null?!1:y.value===e.panelId.value),k=M(null),c=`headlessui-focus-sentinel-${G()}`;w.value||oe(()=>{e.button.value=o(k)});let x=Te(D(()=>({as:a.as,type:r.type})),k);function p(l){var i,s,b,E,O;if(w.value){if(e.popoverState.value===1)return;switch(l.key){case T.Space:case T.Enter:l.preventDefault(),(s=(i=l.target).click)==null||s.call(i),e.closePopover(),(b=o(e.button))==null||b.focus();break}}else switch(l.key){case T.Space:case T.Enter:l.preventDefault(),l.stopPropagation(),e.popoverState.value===1&&(P==null||P(e.buttonId.value)),e.togglePopover();break;case T.Escape:if(e.popoverState.value!==0)return P==null?void 0:P(e.buttonId.value);if(!o(e.button)||(E=t.value)!=null&&E.activeElement&&!((O=o(e.button))!=null&&O.contains(t.value.activeElement)))return;l.preventDefault(),l.stopPropagation(),e.closePopover();break}}function N(l){w.value||l.key===T.Space&&l.preventDefault()}function V(l){var i,s;a.disabled||(w.value?(e.closePopover(),(i=o(e.button))==null||i.focus()):(l.preventDefault(),l.stopPropagation(),e.popoverState.value===1&&(P==null||P(e.buttonId.value)),e.togglePopover(),(s=o(e.button))==null||s.focus()))}function m(l){l.preventDefault(),l.stopPropagation()}let g=me();function f(){let l=o(e.panel);if(!l)return;function i(){L(g.value,{[_.Forwards]:()=>j(l,I.First),[_.Backwards]:()=>j(l,I.Last)})===J.Error&&j(le().filter(s=>s.dataset.headlessuiFocusGuard!=="true"),L(g.value,{[_.Forwards]:I.Next,[_.Backwards]:I.Previous}),{relativeTo:o(e.button)})}i()}return()=>{let l=e.popoverState.value===0,i={open:l},{...s}=a,b=w.value?{ref:k,type:x.value,onKeydown:p,onClick:V}:{ref:k,id:d,type:x.value,"aria-expanded":e.popoverState.value===0,"aria-controls":o(e.panel)?e.panelId.value:void 0,disabled:a.disabled?!0:void 0,onKeydown:p,onKeyup:N,onClick:V,onMousedown:m};return B(H,[ne({ourProps:b,theirProps:{...r,...s},slot:i,attrs:r,slots:n,name:"PopoverButton"}),l&&!w.value&&e.isPortalled.value&&B(Q,{id:c,features:X.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:f})])}}}),He=ae({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(a,{attrs:r,slots:n,expose:v}){var u;let d=(u=a.id)!=null?u:`headlessui-popover-panel-${G()}`,{focus:e}=a,t=ue("PopoverPanel"),h=D(()=>te(t.panel)),P=`headlessui-focus-sentinel-before-${G()}`,y=`headlessui-focus-sentinel-after-${G()}`;v({el:t.panel,$el:t.panel}),be(()=>{t.panelId.value=d}),he(()=>{t.panelId.value=null}),ge(Pe,t.panelId),oe(()=>{var m,g;if(!e||t.popoverState.value!==0||!t.panel)return;let f=(m=h.value)==null?void 0:m.activeElement;(g=o(t.panel))!=null&&g.contains(f)||j(o(t.panel),I.First)});let w=Ne(),k=D(()=>w!==null?(w.value&Y.Open)===Y.Open:t.popoverState.value===0);function c(m){var g,f;switch(m.key){case T.Escape:if(t.popoverState.value!==0||!o(t.panel)||h.value&&!((g=o(t.panel))!=null&&g.contains(h.value.activeElement)))return;m.preventDefault(),m.stopPropagation(),t.closePopover(),(f=o(t.button))==null||f.focus();break}}function x(m){var g,f,l,i,s;let b=m.relatedTarget;b&&o(t.panel)&&((g=o(t.panel))!=null&&g.contains(b)||(t.closePopover(),((l=(f=o(t.beforePanelSentinel))==null?void 0:f.contains)!=null&&l.call(f,b)||(s=(i=o(t.afterPanelSentinel))==null?void 0:i.contains)!=null&&s.call(i,b))&&b.focus({preventScroll:!0})))}let p=me();function N(){let m=o(t.panel);if(!m)return;function g(){L(p.value,{[_.Forwards]:()=>{var f;j(m,I.First)===J.Error&&((f=o(t.afterPanelSentinel))==null||f.focus())},[_.Backwards]:()=>{var f;(f=o(t.button))==null||f.focus({preventScroll:!0})}})}g()}function V(){let m=o(t.panel);if(!m)return;function g(){L(p.value,{[_.Forwards]:()=>{let f=o(t.button),l=o(t.panel);if(!f)return;let i=le(),s=i.indexOf(f),b=i.slice(0,s+1),E=[...i.slice(s+1),...b];for(let O of E.slice())if(O.dataset.headlessuiFocusGuard==="true"||l!=null&&l.contains(O)){let z=E.indexOf(O);z!==-1&&E.splice(z,1)}j(E,I.First,{sorted:!1})},[_.Backwards]:()=>{var f;j(m,I.Previous)===J.Error&&((f=o(t.button))==null||f.focus())}})}g()}return()=>{let m={open:t.popoverState.value===0,close:t.close},{focus:g,...f}=a,l={ref:t.panel,id:d,onKeydown:c,onFocusout:e&&t.popoverState.value===0?x:void 0,tabIndex:-1};return ne({ourProps:l,theirProps:{...r,...f},attrs:r,slot:m,slots:{...n,default:(...i)=>{var s;return[B(H,[k.value&&t.isPortalled.value&&B(Q,{id:P,ref:t.beforePanelSentinel,features:X.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:N}),(s=n.default)==null?void 0:s.call(n,...i),k.value&&t.isPortalled.value&&B(Q,{id:y,ref:t.afterPanelSentinel,features:X.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:V})])]}},features:ie.RenderStrategy|ie.Static,visible:k.value,name:"PopoverPanel"})}}});function ze(a,r){return $(),C("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"})])}function xe(a,r,n){const v=Z(a,n==null?void 0:n.in);if(isNaN(r))return U(a,NaN);if(!r)return v;const u=v.getDate(),d=U(a,v.getTime());d.setMonth(v.getMonth()+r+1,0);const e=d.getDate();return u>=e?d:(v.setFullYear(d.getFullYear(),d.getMonth(),u),v)}function pe(a,r,n){const[v,u]=ee(n==null?void 0:n.in,a,r);return+se(v)==+se(u)}function Ke(a,r){const[n,v]=ee(a,r.start,r.end);return{start:n,end:v}}function Re(a,r){const{start:n,end:v}=Ke(r==null?void 0:r.in,a);let u=+n>+v;const d=u?+n:+v,e=u?v:n;e.setHours(0,0,0,0);let t=1;const h=[];for(;+e<=d;)h.push(U(n,e)),e.setDate(e.getDate()+t),e.setHours(0,0,0,0);return u?h.reverse():h}function We(a,r){const n=Z(a,r==null?void 0:r.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Ye(a,r){var t,h;const n=Me(),v=n.weekStartsOn??((h=(t=n.locale)==null?void 0:t.options)==null?void 0:h.weekStartsOn)??0,u=Z(a,r==null?void 0:r.in),d=u.getDay(),e=(d<v?-7:0)+6-(d-v);return u.setDate(u.getDate()+e),u.setHours(23,59,59,999),u}function fe(a,r,n){const[v,u]=ee(n==null?void 0:n.in,a,r);return v.getFullYear()===u.getFullYear()&&v.getMonth()===u.getMonth()}function qe(a,r,n){return xe(a,-r,n)}const Ue={key:0,class:"block text-sm font-medium text-gray-700 mb-1"},Je={key:0},Qe={key:1,class:"text-gray-400"},Xe={class:"p-4"},Ze={class:"flex items-center justify-between mb-4"},et={class:"text-sm font-medium text-gray-900"},tt={class:"grid grid-cols-7 gap-1"},lt=["onClick"],nt={key:1,class:"mt-2 text-sm text-red-600"},ct={__name:"DatePicker",props:{modelValue:{type:[String,Date,null],default:null},label:{type:String,required:!0},error:{type:String,default:""}},emits:["update:modelValue"],setup(a,{emit:r}){const n=a,v=r,u=M(n.modelValue?new Date(n.modelValue):new Date),d=M(n.modelValue?new Date(n.modelValue):null);ce(()=>n.modelValue,c=>{d.value=c?new Date(c):null}),ce(d,c=>{v("update:modelValue",c?R(c,"yyyy-MM-dd"):null)});const e=D(()=>{const c=De(We(u.value)),x=Ye(Ee(u.value));return Re({start:c,end:x})}),t=()=>{u.value=qe(u.value,1)},h=()=>{u.value=xe(u.value,1)},P=c=>d.value&&pe(c,d.value),y=c=>pe(c,new Date),w=c=>{d.value=c},k=()=>{d.value=null};return(c,x)=>($(),C("div",null,[a.label?($(),C("label",Ue,A(a.label),1)):de("",!0),W(F(Se),{class:"relative"},{default:q(()=>[W(F(Ge),{class:"w-full inline-flex justify-between items-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:q(()=>[d.value?($(),C("span",Je,A(F(R)(d.value,"MMMM d, yyyy")),1)):($(),C("span",Qe," Select a date ")),W(F(ze),{class:"ml-2 h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1}),W(F(He),{class:"absolute z-10 mt-1 w-full rounded-md bg-white shadow-lg"},{default:q(()=>[S("div",Xe,[S("div",Ze,[S("button",{type:"button",class:"p-2 rounded-full hover:bg-gray-100",onClick:t},x[0]||(x[0]=[S("svg",{class:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),S("div",et,A(F(R)(u.value,"MMMM yyyy")),1),S("button",{type:"button",class:"p-2 rounded-full hover:bg-gray-100",onClick:h},x[1]||(x[1]=[S("svg",{class:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),S("div",tt,[($(),C(H,null,ve(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],p=>S("div",{key:p,class:"text-xs font-medium text-gray-500 text-center py-1"},A(p),1)),64)),($(!0),C(H,null,ve(e.value,p=>($(),C("button",{key:p,type:"button",onClick:N=>w(p),class:je(["text-sm rounded-full w-8 h-8 flex items-center justify-center",!F(fe)(p,u.value)&&"text-gray-400",F(fe)(p,u.value)&&!P(p)&&!y(p)&&"text-gray-900 hover:bg-gray-100",y(p)&&!P(p)&&"text-primary-600 font-semibold",P(p)&&"bg-primary-600 text-white font-semibold hover:bg-primary-700"])},A(F(R)(p,"d")),11,lt))),128))]),S("div",{class:"mt-4 text-right"},[S("button",{type:"button",class:"text-sm text-gray-600 hover:text-gray-900",onClick:k}," Clear ")])])]),_:1})]),_:1}),a.error?($(),C("p",nt,A(a.error),1)):de("",!0)]))}};export{ct as _};
